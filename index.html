<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏ß‡∏±‡∏î‡∏ß‡πà‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏£‡∏π‡πâ‡∏à‡∏±‡∏Å‡∏ä‡∏¥‡∏ô‡∏°‡∏≤‡∏Å‡πÅ‡∏Ñ‡πà‡πÑ‡∏´‡∏ô</title>
    <style>
        /* --- CSS STYLING --- */
        
        /* 1. Basic Setup & Fonts */
        @import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Thai:wght@400;700&display=swap');

        :root {
            --bg-color: #f3e5f5; /* ‡∏°‡πà‡∏ß‡∏á‡∏≠‡πà‡∏≠‡∏ô */
            --primary-color: #4a148c; /* ‡∏°‡πà‡∏ß‡∏á‡πÄ‡∏Ç‡πâ‡∏° */
            --accent-color: #d81b60;   /* ‡πÅ‡∏î‡∏á/‡∏ä‡∏°‡∏û‡∏π‡πÄ‡∏Ç‡πâ‡∏° */
            --white-color: #ffffff;
            --disabled-color: #c0c0c0;
            --light-purple: #ede7f6;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'IBM Plex Sans Thai', sans-serif;
            background-color: var(--bg-color);
            color: var(--primary-color);
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
            padding: 20px;
        }

        /* 2. Main Container */
        .container {
            background-color: var(--white-color);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            padding: 2rem;
            width: 100%;
            max-width: 400px;
            text-align: center;
            z-index: 10;
        }

        /* 3. Stage Management */
        .stage {
            display: none;
            flex-direction: column;
            align-items: center;
            gap: 1.5rem;
        }

        .stage.active {
            display: flex;
        }
        
        /* (Styles 4-9 ... ‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á ...) */
        
        /* 4. Elements Styling (h1, h2, p) */
        h1, h2 { font-weight: 700; color: var(--primary-color); }
        h2 { font-size: 1.25rem; }
        p { font-size: 1.1rem; line-height: 1.6; }
        /* 5. Button Styling (.btn) */
        .btn { font-family: 'IBM Plex Sans Thai', sans-serif; font-size: 1.2rem; font-weight: 700; background-color: var(--accent-color); color: var(--white-color); border: none; border-radius: 50px; padding: 0.8rem 2.5rem; cursor: pointer; transition: transform 0.2s ease, background-color 0.2s ease; width: 100%; max-width: 250px; }
        .btn:hover { transform: scale(1.05); }
        .btn:disabled { background-color: var(--disabled-color); cursor: not-allowed; transform: scale(1); }
        /* 6. Input Styling (.name-input) */
        .name-input { font-family: 'IBM Plex Sans Thai', sans-serif; font-size: 1rem; padding: 0.8rem; border: 2px solid var(--primary-color); border-radius: 10px; width: 100%; text-align: center; }
        .name-input:focus { outline: none; border-color: var(--accent-color); box-shadow: 0 0 10px rgba(216, 27, 96, 0.3); }
        /* 7. Image Styling (#qrImage, #splashImage) */
        #qrImage, #splashImage { width: 100%; height: auto; border-radius: 10px; margin-top: 1rem; }
        #qrImage { max-width: 250px; }
        #splashImage { max-width: 200px; }
        .reveal-text { font-size: 1.5rem; font-weight: 700; color: var(--accent-color); margin-top: 1rem; }
        /* 8. Choice Buttons Styling */
        .choices-container { display: flex; flex-direction: column; gap: 0.75rem; width: 100%; }
        .choice-btn { font-family: 'IBM Plex Sans Thai', sans-serif; font-size: 1rem; background-color: var(--white-color); color: var(--primary-color); border: 2px solid var(--primary-color); border-radius: 15px; padding: 0.8rem 1rem; cursor: pointer; width: 100%; text-align: center; transition: background-color 0.2s, color 0.2s, transform 0.2s; }
        .choice-btn:hover { background-color: var(--light-purple); transform: scale(1.02); }
        .choice-btn.selected { background-color: var(--accent-color); color: var(--white-color); border-color: var(--accent-color); }
        /* 9. Summary Styling */
        #summary-container { margin-top: 1.5rem; text-align: left; width: 100%; border-top: 2px dashed var(--disabled-color); padding-top: 1.5rem; }
        .summary-item { margin-bottom: 1rem; }
        .summary-item p { font-size: 0.9rem; margin: 0.25rem 0; line-height: 1.4; }
        #game-score-summary { font-size: 1.1rem; font-weight: 700; color: var(--primary-color); text-align: center; margin-top: 1rem; }
        .calc-note { font-size: 0.8rem; color: #666; background: #f9f9f9; padding: 5px; border-radius: 5px; }


        /* 10. Emoji Styling */
        @keyframes float {
            0% { transform: translateY(0px) translateX(0px) rotate(0deg); }
            50% { transform: translateY(-20px) translateX(10px) rotate(10deg); }
            100% { transform: translateY(0px) translateX(0px) rotate(0deg); }
        }
        .floating-emoji { position: fixed; z-index: 5; font-size: 2.5rem; user-select: none; cursor: pointer; animation: float 6s ease-in-out infinite; transition: transform 0.5s ease-out, opacity 0.5s ease-out; opacity: 0.7; }
        .floating-emoji:hover { opacity: 1; transform: scale(1.2); }
        .floating-emoji.hidden { transform: scale(0) rotate(360deg); opacity: 0; }
        #emoji-1 { top: 15%; left: 8%; animation-delay: -1s; }
        #emoji-2 { top: 40%; right: 10%; animation-delay: -3s; }
        #emoji-3 { top: 70%; left: 12%; animation-delay: -5s; }
        #emoji-4 { top: 80%; right: 15%; animation-delay: -2s; }
        
        /* --- ‚≠êÔ∏è 11. MINIGAME STYLING (‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏Å‡πâ) ‚≠êÔ∏è --- */
        
        #game-area {
            position: fixed; top: 0; left: 0; right: 0; bottom: 0;
            background-color: rgba(243, 229, 245, 0.8);
            z-index: 100;
            overflow: hidden;
            display: none;
        }

        #game-info {
            position: absolute; top: 20px; left: 20px; right: 20px;
            display: flex; justify-content: space-between;
            font-size: 1.5rem; font-weight: 700; color: var(--primary-color);
        }

        #countdown-overlay {
            position: absolute; top: 0; left: 0; right: 0; bottom: 0;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex; justify-content: center; align-items: center;
            font-size: 8rem; font-weight: 700; color: var(--white-color);
            z-index: 102;
        }
        
        .game-emoji {
            position: absolute;
            font-size: 2.5rem; /* ‚≠êÔ∏è ‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏Å‡πâ: ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏ô‡∏≤‡∏î‡∏à‡∏≤‡∏Å 2rem */
            user-select: none;
            cursor: pointer;
            transition: transform 0.3s ease-out;
        }
        .game-emoji:hover {
            transform: scale(1.2);
        }
        
        .floating-score {
            position: absolute;
            font-size: 1.5rem; /* ‚≠êÔ∏è ‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏Å‡πâ: ‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏Ç‡∏ô‡∏≤‡∏î‡∏õ‡∏Å‡∏ï‡∏¥ */
            font-weight: 700;
            user-select: none;
            animation: floatUp 1s ease-out forwards;
            pointer-events: none;
        }
        @keyframes floatUp {
            from { opacity: 1; transform: translateY(0); }
            to { opacity: 0; transform: translateY(-50px); }
        }
        
        #game-result {
            position: absolute; top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            display: none;
            flex-direction: column;
            gap: 1rem;
            background: var(--white-color);
            padding: 2rem;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            z-index: 101;
            text-align: center;
        }


    </style>
</head>
<body>

    <audio id="bgm" src="BGM.wav" loop onerror="console.log('‡∏´‡∏≤‡πÑ‡∏ü‡∏•‡πå BGM.wav ‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≠!')"></audio>
    <span class="floating-emoji" id="emoji-1">üíñ</span>
    <span class="floating-emoji" id="emoji-2">‚ú®</span>
    <span class="floating-emoji" id="emoji-3">üíú</span>
    <span class="floating-emoji" id="emoji-4">ü•∞</span>


    <div class="container">

        <div id="stage-0" class="stage active">
            <img src="W.jpg" alt="Welcome" id="splashImage" onerror="this.src='https://via.placeholder.com/250x250/4a148c/ffffff?text=W.jpg'; this.alt='‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏£‡∏π‡∏õ W.jpg'">
        </div>
        <div id="stage-1" class="stage">
            <h1>‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á</h1>
            <p>‡∏ñ‡πâ‡∏≤‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÅ‡∏•‡πâ‡∏ß‡πÑ‡∏õ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏±‡∏ô‡πÄ‡∏•‡∏¢!</p>
            <button id="playButton" class="btn">PLAY</button>
        </div>
        <div id="stage-1-5" class="stage">
            <h2>‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏ß‡∏±‡∏î‡∏ß‡πà‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏£‡∏π‡πâ‡∏à‡∏±‡∏Å‡∏ä‡∏¥‡∏ô‡∏à‡∏£‡∏¥‡∏á‡πÜ</h2>
            <button id="startQuestionsButton" class="btn">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡∏¢!</button>
        </div>
        <div id="stage-2" class="stage">
            <h2>‡∏Ç‡πâ‡∏≠ 1: ‡∏Ñ‡∏∏‡∏ì‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏∞‡πÑ‡∏£</h2>
            <input type="text" id="nameInput" class="name-input" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà...">
            <button id="nameNextButton" class="btn" disabled>NEXT</button>
        </div>
        <div id="stage-3" class="stage">
            <h2>‡∏Ç‡πâ‡∏≠ 2: ‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏á‡πà‡∏≤‡∏¢‡πÜ‡∏ñ‡πâ‡∏≤‡∏ä‡∏¥‡∏ô‡πÄ‡∏î‡∏¥‡∏ô‡πÑ‡∏õ‡∏ó‡∏≤‡∏á‡∏ã‡πâ‡∏≤‡∏¢‡∏õ‡∏£‡∏∞‡∏ï‡∏π‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô 900 ‡πÄ‡∏°‡∏ï‡∏£ ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏î‡∏¥‡∏ô‡πÑ‡∏õ‡∏ó‡∏≤‡∏á‡∏Ç‡∏ß‡∏≤‡∏≠‡∏µ‡∏Å 1800 ‡πÄ‡∏°‡∏ï‡∏£ ‡∏ï‡∏£‡∏á‡πÑ‡∏õ‡∏≠‡∏µ‡∏Å 1230 ‡πÄ‡∏°‡∏ï‡∏£ ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏ß‡πÑ‡∏õ‡∏ó‡∏≤‡∏á 14 ‡∏ô‡∏≤‡∏¨‡∏¥‡∏Å‡∏≤‡∏à‡∏≤‡∏Å‡∏°‡∏∏‡∏°‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î 1234 ‡πÄ‡∏°‡∏ï‡∏£ ‡∏ä‡∏¥‡∏ô‡∏à‡∏∞‡∏°‡∏µ‡∏£‡∏∞‡∏¢‡∏∞‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏à‡∏±‡∏î‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏´‡∏£‡πà</h2>
            <div class="choices-container" data-question-id="q2">
                <button class="choice-btn">‡πÑ‡∏°‡πà‡∏£‡∏π‡πâ</button>
                <button class="choice-btn">2401.78 ‡πÄ‡∏°‡∏ï‡∏£</button>
                <button class="choice-btn">‡∏≠‡∏∑‡∏°‡∏°‡∏°‡∏°‡∏°‡∏°‡∏° ‡∏ô‡πà‡∏≤‡∏à‡∏∞ 3333.33 ‡πÄ‡∏°‡∏ï‡∏£</button>
                <button class="choice-btn">‡∏ä‡∏¥‡∏ô‡πÑ‡∏°‡πà‡πÄ‡∏î‡∏¥‡∏ô‡∏´‡∏£‡∏≠‡∏Å ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÅ‡∏Å‡∏£‡πá‡∏õ‡πÑ‡∏õ‡πÄ‡∏£‡πá‡∏ß‡∏Å‡∏ß‡πà‡∏≤</button>
            </div>
            <button id="q2NextButton" class="btn" disabled>NEXT</button>
        </div>
        <div id="stage-4" class="stage">
            <h2>‡∏Ç‡πâ‡∏≠ 3: ‡∏à‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏•‡∏≥‡∏î‡∏±‡∏ö‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏ß‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡πÉ‡∏ô‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏ä‡∏¥‡∏ô</h2>
             <div class="choices-container" data-question-id="q3">
                <button class="choice-btn">‡∏Å‡∏¥‡∏ô > ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô > ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏° > ‡∏ô‡∏≠‡∏ô</button>
                <button class="choice-btn">‡∏Å‡∏¥‡∏ô > ‡∏ô‡∏≠‡∏ô > ‡∏Å‡∏¥‡∏ô > ‡∏ô‡∏≠‡∏ô > ‡∏Å‡∏¥‡∏ô</button>
                <button class="choice-btn">‡∏ô‡∏≠‡∏ô > ‡∏ô‡∏≠‡∏ô> ‡∏ô‡∏≠‡∏ô > ‡∏ô‡∏≠‡∏ô</button>
                <button class="choice-btn">‡∏Å‡∏¥‡∏ô > ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏°> ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏°‡∏ï‡πà‡∏≠ > ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏°‡∏≠‡∏µ‡∏Å</button>
            </div>
            <button id="q3NextButton" class="btn" disabled>NEXT</button>
        </div>
        <div id="stage-5" class="stage">
            <h2>‡∏Ç‡πâ‡∏≠ 4: ‡∏ñ‡πâ‡∏≤‡∏ä‡∏¥‡∏ô‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏à‡∏∞‡∏à‡∏°‡∏ô‡πâ‡∏≥ ‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡∏ó‡∏≥‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£</h2>
             <div class="choices-container" data-question-id="q4">
                <button class="choice-btn">‡πÄ‡∏≠‡∏≤‡∏´‡πà‡∏ß‡∏á‡∏¢‡∏≤‡∏á‡πÉ‡∏´‡πâ</button>
                <button class="choice-btn">‡πÑ‡∏°‡πà‡∏ä‡πà‡∏ß‡∏¢ ‡πÑ‡∏≠‡πà‡∏ä‡∏¥‡∏ô‡∏°‡∏±‡∏ô‡∏ß‡πà‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡πÄ‡∏õ‡πá‡∏ô</button>
                <button class="choice-btn">‡∏ã‡∏∑‡πâ‡∏≠‡πÄ‡∏£‡∏∑‡∏≠‡∏™‡∏õ‡∏µ‡∏î‡πÇ‡∏ö‡πä‡∏ó‡πÅ‡∏•‡πâ‡∏ß‡∏ô‡∏±‡πà‡∏á‡πÑ‡∏õ‡∏à‡∏µ‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ã‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏∑‡∏≠‡∏î‡∏≥‡∏ô‡πâ‡∏≥‡∏°‡∏≤‡∏ä‡πà‡∏ß‡∏¢</button>
                <button class="choice-btn">‡∏Å‡∏•‡∏≤‡∏¢‡∏£‡πà‡∏≤‡∏á‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏î‡πÇ‡∏ô‡πÄ‡∏™‡∏≤‡∏£‡πå t-rex ‡πÅ‡∏•‡πâ‡∏ß‡∏ß‡πà‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡πÑ‡∏õ‡∏ä‡πà‡∏ß‡∏¢</button>
            </div>
            <button id="q4NextButton" class="btn" disabled>NEXT</button>
        </div>
        <div id="stage-6" class="stage">
            <h2>‡∏Ç‡πâ‡∏≠ 5: ‡∏ñ‡πâ‡∏≤‡∏ä‡∏¥‡∏ô‡∏ñ‡∏≤‡∏°‡∏ß‡πà‡∏≤ ‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏á‡∏¥‡∏ô‡∏õ‡∏£‡∏¥‡∏®‡∏ô‡∏≤‡∏Å‡∏±‡∏ö‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏¢‡∏µ‡πà‡∏™‡∏¥‡∏ö‡∏ö‡∏≤‡∏ó ‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡∏ï‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏≠‡∏∞‡πÑ‡∏£</h2>
             <div class="choices-container" data-question-id="q5">
                <button class="choice-btn">‡πÄ‡∏≠‡∏≤‡πÄ‡∏á‡∏¥‡∏ô‡∏õ‡∏£‡∏¥‡∏®‡∏ô‡∏≤</button>
                <button class="choice-btn">‡πÄ‡∏≠‡∏≤‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏¢‡∏µ‡πà‡∏™‡∏¥‡∏ö‡∏ö‡∏≤‡∏ó</button>
                <button class="choice-btn">‡πÄ‡∏≠‡∏≤‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏Ç‡πâ‡∏≠‡∏ô‡∏µ‡πâ‡πÑ‡∏õ‡∏ó‡∏≥‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏≠‡∏∑‡πà‡∏ô‡∏¢‡∏±‡∏á‡∏Ñ‡∏∏‡πâ‡∏°‡∏Å‡∏ß‡πà‡∏≤</button>
                <button class="choice-btn">‡πÑ‡∏°‡πà‡∏£‡∏π‡πâ</button>
            </div>
            <button id="q5NextButton" class="btn" disabled>NEXT</button>
        </div>
        <div id="stage-7" class="stage">
            <h2>‡∏Ç‡πâ‡∏≠ 6: ‡∏ñ‡πâ‡∏≤‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏ô‡∏µ‡πâ‡∏°‡∏µ‡πÄ‡∏á‡∏¥‡∏ô 30 ‡∏•‡πâ‡∏≤‡∏ô ‡∏à‡∏∞‡πÄ‡∏≠‡∏≤‡πÑ‡∏õ‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£</h2>
             <div class="choices-container" data-question-id="q6">
                <button class="choice-btn">‡πÄ‡∏≠‡∏≤‡πÑ‡∏õ‡∏ã‡∏∑‡πâ‡∏≠‡∏ö‡πâ‡∏≤‡∏ô‡∏ã‡∏∑‡πâ‡∏≠‡∏£‡∏ñ‡∏ã‡∏∑‡πâ‡∏≠‡∏Ç‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡∏ã‡∏∑‡πâ‡∏≠</button>
                <button class="choice-btn">‡πÄ‡∏≠‡∏≤‡πÑ‡∏õ‡∏•‡∏á‡∏ó‡∏∏‡∏ô‡πÉ‡∏ô‡∏´‡∏∏‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏á‡∏Å‡πá‡πÑ‡∏î‡πâ‡∏Å‡∏≥‡πÑ‡∏£‡πÅ‡∏ô‡πà‡πÜ</button>
                <button class="choice-btn">‡πÄ‡∏≠‡∏≤‡πÑ‡∏õ‡πÉ‡∏´‡πâ‡∏ä‡∏¥‡∏ô‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤</button>
                <button class="choice-btn">‡πÄ‡∏≠‡∏≤‡∏≠‡∏∞‡πÑ‡∏£‡∏°‡∏≤‡∏Ñ‡∏¥‡∏î‡∏ß‡πà‡∏≤‡∏à‡∏∞‡∏°‡∏µ‡∏ï‡∏±‡∏á 30 ‡∏•‡πâ‡∏≤‡∏ô 30 ‡∏ö‡∏≤‡∏ó ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏•‡∏¢</button>
            </div>
            <button id="q6NextButton" class="btn" disabled>NEXT</button>
        </div>
        <div id="stage-8" class="stage">
            <h2>‡∏≠‡∏∞ ‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ô‡∏µ‡πâ‡∏°‡∏±‡∏ô‡∏ñ‡∏≤‡∏°‡∏≠‡∏∞‡πÑ‡∏£‡∏Å‡πá‡πÑ‡∏°‡πà‡∏£‡∏π‡πâ ‡πÄ‡∏≠‡∏≤‡∏à‡∏£‡∏¥‡∏á‡∏•‡∏∞</h2>
            <button id="interludeNextButton" class="btn">NEXT</button>
        </div>
        
        <div id="stage-9" class="stage">
            <h2>‡∏°‡∏¥‡∏ô‡∏¥‡πÄ‡∏Å‡∏°: ‡∏Å‡∏î‡πÉ‡∏´‡πâ‡πÑ‡∏ß!</h2>
            <p>‡∏ó‡∏≥‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÉ‡∏´‡πâ‡πÑ‡∏î‡πâ <strong>‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 200 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</strong> ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô <strong>10 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</strong> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÑ‡∏õ‡∏ï‡πà‡∏≠!</p>
            <p>(‡∏£‡∏∞‡∏ß‡∏±‡∏á üí£: -20 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô / ‡∏Å‡∏î ‚≠êÔ∏è: +20 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô)</p>
            <button id="startGameButton" class="btn">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°!</button>
        </div>

        <div id="stage-10" class="stage">
            <h2>‡∏Ñ‡∏∏‡∏ì‡πÉ‡∏ä‡πà‡∏Ñ‡∏ô‡∏£‡∏π‡πâ‡∏à‡∏±‡∏Å‡∏Ç‡∏≠‡∏á jittipat ‡∏à‡∏£‡∏¥‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà!!! ‡πÇ‡∏≠‡∏ô‡∏ï‡∏±‡∏á‡∏°‡∏≤‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß‡∏ú‡∏°‡∏à‡∏∞‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏Ñ‡∏∏‡∏ì</h2>
            <img src="QR.jpg" alt="QR Image" id="qrImage" onerror="this.src='https://via.placeholder.com/250x250/d81b60/ffffff?text=QR.jpg'; this.alt='‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏£‡∏π‡∏õ QR.jpg'">
            <p class="reveal-text">‡πÅ‡∏´‡∏∞‡πÜ</p>
            <div id="summary-container">
                </div>
        </div>
    </div>
    
    <div id="game-area">
        <div id="game-info">
            <span id="game-score">Score: 0</span>
            <span id="game-timer">Time: 10</span>
        </div>
        <div id="game-result">
            <h2 id="game-result-title">Title</h2>
            <p id="game-result-score">Your Score: 0</p>
            <button id="gameRetryButton" class="btn">‡∏•‡∏≠‡∏á‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á</button>
            <button id="gameNextButton" class="btn" style="display: none;">NEXT</button>
        </div>
        <div id="countdown-overlay">3</div>
    </div>


    <script>
        // --- JAVASCRIPT LOGIC ---

        const stages = document.querySelectorAll('.stage');
        
        // --- ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡πÄ‡∏â‡∏•‡∏¢ (‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á) ---
        const userAnswers = {};
        const correctAnswers = {
            q2: "‡∏ä‡∏¥‡∏ô‡πÑ‡∏°‡πà‡πÄ‡∏î‡∏¥‡∏ô‡∏´‡∏£‡∏≠‡∏Å ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÅ‡∏Å‡∏£‡πá‡∏õ‡πÑ‡∏õ‡πÄ‡∏£‡πá‡∏ß‡∏Å‡∏ß‡πà‡∏≤",
            q3: "‡∏Å‡∏¥‡∏ô > ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏°> ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏°‡∏ï‡πà‡∏≠ > ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏°‡∏≠‡∏µ‡∏Å",
            q4: "‡πÑ‡∏°‡πà‡∏ä‡πà‡∏ß‡∏¢ ‡πÑ‡∏≠‡πà‡∏ä‡∏¥‡∏ô‡∏°‡∏±‡∏ô‡∏ß‡πà‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡πÄ‡∏õ‡πá‡∏ô",
            q5: "‡πÄ‡∏≠‡∏≤‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏Ç‡πâ‡∏≠‡∏ô‡∏µ‡πâ‡πÑ‡∏õ‡∏ó‡∏≥‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏≠‡∏∑‡πà‡∏ô‡∏¢‡∏±‡∏á‡∏Ñ‡∏∏‡πâ‡∏°‡∏Å‡∏ß‡πà‡∏≤",
            q6: "‡πÄ‡∏≠‡∏≤‡πÑ‡∏õ‡πÉ‡∏´‡πâ‡∏ä‡∏¥‡∏ô‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤"
        };
        const questionText = {
            q2: "‡∏Ç‡πâ‡∏≠ 2: ‡∏£‡∏∞‡∏¢‡∏∞‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏à‡∏±‡∏î‡∏Ç‡∏≠‡∏á‡∏ä‡∏¥‡∏ô?",
            q3: "‡∏Ç‡πâ‡∏≠ 3: ‡∏•‡∏≥‡∏î‡∏±‡∏ö‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡πÉ‡∏ô‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏ä‡∏¥‡∏ô?",
            q4: "‡∏Ç‡πâ‡∏≠ 4: ‡∏ñ‡πâ‡∏≤‡∏ä‡∏¥‡∏ô‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏à‡∏∞‡∏à‡∏°‡∏ô‡πâ‡∏≥?",
            q5: "‡∏Ç‡πâ‡∏≠ 5: ‡πÄ‡∏á‡∏¥‡∏ô‡∏õ‡∏£‡∏¥‡∏®‡∏ô‡∏≤ vs ‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à 20?",
            q6: "‡∏Ç‡πâ‡∏≠ 6: ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ 30 ‡∏•‡πâ‡∏≤‡∏ô?"
        };
        
        let finalGameScore = 0; 
        
        // --- (‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô showStage, generateSummary ... ‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á) ---
        function showStage(stageId) {
            stages.forEach(stage => stage.classList.remove('active'));
            const activeStage = document.getElementById(stageId);
            if (activeStage) {
                activeStage.classList.add('active');
            }
            window.scrollTo(0, 0);
        }
        function generateSummary() {
            const container = document.getElementById('summary-container');
            let summaryHTML = '<h3>‡∏™‡∏£‡∏∏‡∏õ‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö</h3>';
            
            for (const qId in correctAnswers) {
                const userAns = userAnswers[qId] || "<i>‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö</i>";
                const correctAns = correctAnswers[qId];
                const isCorrect = userAns === correctAns;

                summaryHTML += `
                    <div class="summary-item">
                        <p><strong>${questionText[qId]}</strong></p>
                        <p style="color: ${isCorrect ? 'green' : 'red'};">
                            ‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì: ${userAns} ${isCorrect ? '‚úÖ' : '‚ùå'}
                        </p>
                        ${!isCorrect ? `<p style="color: green;">‡πÄ‡∏â‡∏•‡∏¢: ${correctAns}</p>` : ''}
                        ${qId === 'q2' ? `
                            <p class="calc-note">
                                <strong>‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏≥ (‡πÅ‡∏ö‡∏ö‡∏á‡∏á‡πÜ):</strong> (‡∏ã‡πâ‡∏≤‡∏¢ 900) + (‡∏Ç‡∏ß‡∏≤ 1800) = (‡∏Ç‡∏ß‡∏≤ 900)
                                (‡∏Ç‡∏ß‡∏≤ 900) + (‡∏ï‡∏£‡∏á 1230) + (‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏ß 14 ‡∏ô‡∏≤‡∏¨‡∏¥‡∏Å‡∏≤ 1234) = ???
                                <br><strong>‡∏™‡∏£‡∏∏‡∏õ:</strong> ‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏Ñ‡∏∑‡∏≠‡∏Ç‡πâ‡∏≠ 4 ‡∏à‡πâ‡∏≤! ü§£
                            </p>
                        ` : ''}
                    </div>
                `;
            }
            summaryHTML += `
                <div id="game-score-summary">
                    ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏°‡∏¥‡∏ô‡∏¥‡πÄ‡∏Å‡∏°: ${finalGameScore}
                </div>
            `;
            container.innerHTML = summaryHTML;
        }


        // --- BGM Logic (‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á) ---
        const bgm = document.getElementById('bgm');
        let isMusicPlaying = false; 

        // --- Game Logic Variables (‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á) ---
        const gameArea = document.getElementById('game-area');
        const gameInfo = document.getElementById('game-info');
        const gameScoreEl = document.getElementById('game-score');
        const gameTimerEl = document.getElementById('game-timer');
        const countdownOverlay = document.getElementById('countdown-overlay');
        const gameResultEl = document.getElementById('game-result');
        const gameResultTitle = document.getElementById('game-result-title');
        const gameResultScore = document.getElementById('game-result-score');
        const gameRetryButton = document.getElementById('gameRetryButton');
        const gameNextButton = document.getElementById('gameNextButton');
        let gameScore = 0;
        let gameTimer = 10;
        let isGameRunning = false;
        let gameTimerInterval = null;
        let emojiSpawnInterval = null;


        // --- (Event Listeners ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏õ‡∏∏‡πà‡∏°‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å ... ‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á) ---
        // Stage 0 -> 1
        document.addEventListener('DOMContentLoaded', () => { setTimeout(() => { showStage('stage-1'); }, 1000); });
        // Stage 1 -> 1.5
        document.getElementById('playButton').addEventListener('click', () => {
            showStage('stage-1-5');
            if (!isMusicPlaying) { bgm.play().catch(e => console.log("BGM b·ªã ch·∫∑n")); isMusicPlaying = true; }
        });
        // Stage 1.5 -> 2
        document.getElementById('startQuestionsButton').addEventListener('click', () => showStage('stage-2'));
        // Stage 2 (Name)
        const nameInput = document.getElementById('nameInput');
        const nameNextButton = document.getElementById('nameNextButton');
        nameInput.addEventListener('input', () => { nameNextButton.disabled = nameInput.value.trim() === ''; });
        nameNextButton.addEventListener('click', () => showStage('stage-3'));
        // Choice Buttons
        const choiceContainers = document.querySelectorAll('.choices-container');
        choiceContainers.forEach(container => {
            const questionId = container.dataset.questionId;
            const choices = container.querySelectorAll('.choice-btn');
            const nextButton = container.nextElementSibling;
            choices.forEach(choice => {
                choice.addEventListener('click', () => {
                    choices.forEach(btn => btn.classList.remove('selected'));
                    choice.classList.add('selected');
                    userAnswers[questionId] = choice.textContent.trim();
                    nextButton.disabled = false;
                });
            });
        });
        // ‡∏õ‡∏∏‡πà‡∏° NEXT ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°
        document.getElementById('q2NextButton').addEventListener('click', () => showStage('stage-4'));
        document.getElementById('q3NextButton').addEventListener('click', () => showStage('stage-5'));
        document.getElementById('q4NextButton').addEventListener('click', () => showStage('stage-6'));
        document.getElementById('q5NextButton').addEventListener('click', () => showStage('stage-7'));
        document.getElementById('q6NextButton').addEventListener('click', () => showStage('stage-8'));
        document.getElementById('interludeNextButton').addEventListener('click', () => showStage('stage-9'));
        // Emoji ‡∏•‡∏≠‡∏¢
        const emojis = document.querySelectorAll('.floating-emoji');
        emojis.forEach(emoji => {
            emoji.addEventListener('click', () => {
                emoji.classList.add('hidden');
                setTimeout(() => { emoji.classList.remove('hidden'); }, 3000);
            });
        });

        // --- ‚≠êÔ∏è Game Button Listeners (‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏Å‡πâ) ‚≠êÔ∏è ---
        
        document.getElementById('startGameButton').addEventListener('click', () => {
            gameArea.style.display = 'block';
            startCountdown();
        });
        gameRetryButton.addEventListener('click', () => {
            gameResultEl.style.display = 'none';
            startCountdown();
        });
        gameNextButton.addEventListener('click', () => {
            gameArea.style.display = 'none';
            generateSummary(); 
            showStage('stage-10');
        });

        // --- ‚≠êÔ∏è Game Functions (‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏Å‡πâ) ‚≠êÔ∏è ---

        function startCountdown() {
            let count = 3;
            countdownOverlay.textContent = count;
            countdownOverlay.style.display = 'flex';
            
            const countdownInterval = setInterval(() => {
                count--;
                if (count > 0) {
                    countdownOverlay.textContent = count;
                } else {
                    clearInterval(countdownInterval);
                    countdownOverlay.style.display = 'none';
                    startGame();
                }
            }, 1000);
        }

        function startGame() {
            isGameRunning = true;
            gameScore = 0;
            gameTimer = 10;
            gameScoreEl.textContent = `Score: ${gameScore}`;
            gameTimerEl.textContent = `Time: ${gameTimer}`;
            gameResultEl.style.display = 'none';
            gameNextButton.style.display = 'none';
            gameRetryButton.style.display = 'block';

            gameTimerInterval = setInterval(() => {
                gameTimer--;
                gameTimerEl.textContent = `Time: ${gameTimer}`;
                if (gameTimer <= 0) {
                    endGame();
                }
            }, 1000);

            spawnEmojiLoop();
        }

        function spawnEmojiLoop() {
            if (!isGameRunning) return;
            
            spawnEmoji();
            
            /* ‚≠êÔ∏è ‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏Å‡πâ: ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏à‡∏≥‡∏ô‡∏ß‡∏ô (‡∏•‡∏î‡πÄ‡∏ß‡∏•‡∏≤‡∏£‡∏≠) ‚≠êÔ∏è */
            let spawnRate = 350 - ((10 - gameTimer) * 25); // 350ms -> 100ms
            if (spawnRate < 100) spawnRate = 100;

            emojiSpawnInterval = setTimeout(spawnEmojiLoop, spawnRate);
        }

        function spawnEmoji() {
            if (!isGameRunning) return;

            const emojiEl = document.createElement('div');
            emojiEl.classList.add('game-emoji');
            
            /* ‚≠êÔ∏è ‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏Å‡πâ: ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏î‡∏≤‡∏ß ‚≠êÔ∏è */
            let points;
            const rand = Math.random();
            if (rand < 0.15) { // 15% ‡∏£‡∏∞‡πÄ‡∏ö‡∏¥‡∏î
                emojiEl.textContent = 'üí£';
                points = -20;
            } else if (rand < 0.30) { // 15% ‡∏î‡∏≤‡∏ß
                emojiEl.textContent = '‚≠ê';
                points = 20;
            } else { // 70% ‡∏õ‡∏Å‡∏ï‡∏¥
                const goodEmojis = ['üíñ', '‚ú®', 'üíú', 'ü•∞'];
                emojiEl.textContent = goodEmojis[Math.floor(Math.random() * goodEmojis.length)];
                points = 10;
            }

            // ‡∏™‡∏∏‡πà‡∏°‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÄ‡∏Å‡∏¥‡∏î
            const edge = Math.floor(Math.random() * 4);
            let startX, startY, endX, endY;
            
            /* ‚≠êÔ∏è ‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏Å‡πâ: ‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß (‡πÄ‡∏û‡∏¥‡πà‡∏° duration) ‚≠êÔ∏è */
            const duration = (Math.random() * 2 + 3) - ((10 - gameTimer) * 0.15); // 5s -> 3.5s

            switch (edge) {
                case 0: /* ‡∏ö‡∏ô */ startX = Math.random() * window.innerWidth; startY = -50; endX = Math.random() * window.innerWidth; endY = window.innerHeight + 50; break;
                case 1: /* ‡∏Ç‡∏ß‡∏≤ */ startX = window.innerWidth + 50; startY = Math.random() * window.innerHeight; endX = -50; endY = Math.random() * window.innerHeight; break;
                case 2: /* ‡∏•‡πà‡∏≤‡∏á */ startX = Math.random() * window.innerWidth; startY = window.innerHeight + 50; endX = Math.random() * window.innerWidth; endY = -50; break;
                case 3: /* ‡∏ã‡πâ‡∏≤‡∏¢ */ startX = -50; startY = Math.random() * window.innerHeight; endX = window.innerWidth + 50; endY = Math.random() * window.innerHeight; break;
            }

            emojiEl.style.left = `${startX}px`;
            emojiEl.style.top = `${startY}px`;
            emojiEl.style.transition = `transform ${duration}s linear`;
            gameArea.appendChild(emojiEl);
            
            setTimeout(() => {
                if (!isGameRunning) return;
                emojiEl.style.transform = `translate(${endX - startX}px, ${endY - startY}px)`;
            }, 10);
            
            setTimeout(() => {
                emojiEl.remove();
            }, duration * 1000);
            
            emojiEl.addEventListener('mousedown', (e) => {
                if (!isGameRunning) return;
                gameScore += points;
                gameScoreEl.textContent = `Score: ${gameScore}`;
                showFloatingScore(e.clientX, e.clientY, points);
                emojiEl.remove();
            });
        }
        
        function showFloatingScore(x, y, points) {
            const scoreText = document.createElement('div');
            scoreText.classList.add('floating-score');
            
            /* ‚≠êÔ∏è ‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏Å‡πâ: ‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏ï‡∏≤‡∏°‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô ‚≠êÔ∏è */
            if (points > 10) { // +20 (‡∏î‡∏≤‡∏ß)
                scoreText.textContent = `+${points}`;
                scoreText.style.color = 'gold';
                scoreText.style.fontSize = '2.2rem';
                scoreText.style.fontWeight = 'bold';
                scoreText.style.textShadow = '0 0 5px black'; // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏á‡∏≤‡πÉ‡∏´‡πâ‡∏≠‡πà‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢
            } else if (points > 0) { // +10 (‡∏õ‡∏Å‡∏ï‡∏¥)
                scoreText.textContent = `+${points}`;
                scoreText.style.color = 'green';
                scoreText.style.fontSize = '1.5rem';
            } else { // -20 (‡∏£‡∏∞‡πÄ‡∏ö‡∏¥‡∏î)
                scoreText.textContent = `${points}`;
                scoreText.style.color = 'red';
                scoreText.style.fontSize = '1.5rem';
            }
            
            scoreText.style.left = `${x}px`;
            scoreText.style.top = `${y}px`;
            
            gameArea.appendChild(scoreText);
            
            setTimeout(() => {
                scoreText.remove();
            }, 1000);
        }

        function endGame() {
            isGameRunning = false;
            clearInterval(gameTimerInterval);
            clearTimeout(emojiSpawnInterval); 
            
            document.querySelectorAll('.game-emoji').forEach(el => el.remove());
            
            gameResultEl.style.display = 'flex';
            gameResultScore.textContent = `‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì: ${gameScore}`;
            finalGameScore = gameScore; 
            
            if (gameScore >= 200 ) {
                gameResultTitle.textContent = '‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢, ‡∏Ñ‡∏∏‡∏ì‡∏ä‡∏ô‡∏∞!';
                gameRetryButton.style.display = 'none';
                gameNextButton.style.display = 'block';
            } else {
                gameResultTitle.textContent = '‡πÅ‡∏û‡πâ‡∏ã‡∏∞‡∏á‡∏±‡πâ‡∏ô! (‡πÑ‡∏°‡πà‡∏ñ‡∏∂‡∏á 200)';
                gameRetryButton.style.display = 'block';
                gameNextButton.style.display = 'none';
            }
        }

    </script>

</body>
</html>